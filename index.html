<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biotech Iberia | Innova Ocular 2026</title>
    <!-- Tailwind para diseño ultra-rápido -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js: Mucho más ligero y rápido que la librería anterior -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Lucide para iconos -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; margin: 0; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .nav-btn.active { background-color: #2563eb; color: white; box-shadow: 0 10px 15px -3px rgba(37, 99, 235, 0.2); }
        input[type=range] { -webkit-appearance: none; width: 100%; background: transparent; }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none; height: 24px; width: 24px; border-radius: 50%;
            background: #2563eb; cursor: pointer; border: 4px solid white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); margin-top: -9px;
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%; height: 6px; background: #e2e8f0; border-radius: 3px;
        }
    </style>
</head>
<body class="p-4 md:p-10 pb-20">

    <div class="max-w-6xl mx-auto">
        <!-- HEADER BIOTECH IBERIA -->
        <div class="flex flex-col md:flex-row justify-between items-start md:items-end mb-12 gap-6">
            <div>
                <div class="inline-flex items-center gap-2 px-3 py-1 bg-blue-600 text-white text-[10px] font-black uppercase tracking-widest rounded mb-4 shadow-lg shadow-blue-100">
                    <i data-lucide="zap" class="w-3 h-3"></i> Biotech Iberia
                </div>
                <h1 class="text-5xl font-black text-slate-900 tracking-tighter">Innova Ocular</h1>
                <p class="text-slate-400 font-bold mt-1 uppercase text-sm">Acuerdo Estratégico 2026</p>
            </div>
            
            <!-- NAVEGACIÓN -->
            <div class="flex bg-white p-1.5 rounded-2xl shadow-sm border border-slate-200">
                <button onclick="showTab('overview')" id="btn-overview" class="nav-btn active px-6 py-3 rounded-xl text-xs font-black transition-all">ESTRATEGIA</button>
                <button onclick="showTab('catalog')" id="btn-catalog" class="nav-btn px-6 py-3 rounded-xl text-xs font-black text-slate-400 hover:bg-slate-50 transition-all">TARIFARIO</button>
                <button onclick="showTab('rappel')" id="btn-rappel" class="nav-btn px-6 py-3 rounded-xl text-xs font-black text-slate-400 hover:bg-slate-50 transition-all">SIMULADOR</button>
            </div>
        </div>

        <!-- TAB 1: ESTRATEGIA -->
        <div id="overview" class="tab-content active space-y-8 animate-fade-in">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-white p-8 rounded-[32px] border border-slate-100 shadow-sm flex items-center justify-between">
                    <div>
                        <p class="text-[10px] font-black text-slate-300 uppercase tracking-widest">Lentes Pseudofáquicas</p>
                        <h3 class="text-3xl font-black text-slate-900 mt-1">2.500 <span class="text-xs font-bold text-slate-300">UDS</span></h3>
                    </div>
                    <div class="p-4 bg-blue-50 text-blue-600 rounded-2xl"><i data-lucide="target"></i></div>
                </div>
                <div class="bg-white p-8 rounded-[32px] border border-slate-100 shadow-sm flex items-center justify-between">
                    <div>
                        <p class="text-[10px] font-black text-slate-300 uppercase tracking-widest">Lentes Fáquicas</p>
                        <h3 class="text-3xl font-black text-slate-900 mt-1">150 <span class="text-xs font-bold text-slate-300">UDS</span></h3>
                    </div>
                    <div class="p-4 bg-indigo-50 text-indigo-600 rounded-2xl"><i data-lucide="award"></i></div>
                </div>
                <div class="bg-white p-8 rounded-[32px] border border-slate-100 shadow-sm flex items-center justify-between">
                    <div>
                        <p class="text-[10px] font-black text-slate-300 uppercase tracking-widest">Viscoelásticos</p>
                        <h3 class="text-3xl font-black text-slate-900 mt-1">3.500 <span class="text-xs font-bold text-slate-300">UDS</span></h3>
                    </div>
                    <div class="p-4 bg-emerald-50 text-emerald-600 rounded-2xl"><i data-lucide="package"></i></div>
                </div>
            </div>

            <div class="bg-white p-10 rounded-[40px] border border-slate-100 shadow-sm">
                <h3 class="text-xs font-black text-slate-400 uppercase mb-8 tracking-widest">Cuota de Mercado vs Grupo Innova</h3>
                <div style="height: 300px; position: relative;">
                    <canvas id="chartObjectives"></canvas>
                </div>
            </div>
        </div>

        <!-- TAB 2: TARIFARIO -->
        <div id="catalog" class="tab-content space-y-8">
            <div class="bg-white rounded-[32px] border border-slate-100 shadow-sm overflow-hidden">
                <table class="w-full text-left">
                    <thead class="bg-slate-50 border-b">
                        <tr>
                            <th class="p-6 text-[10px] font-black text-slate-400 uppercase">Producto</th>
                            <th class="p-6 text-[10px] font-black text-slate-400 uppercase text-right">Precio Innova (€)</th>
                        </tr>
                    </thead>
                    <tbody id="product-list" class="divide-y divide-slate-50">
                        <!-- Se llena con JS -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- TAB 3: SIMULADOR -->
        <div id="rappel" class="tab-content grid grid-cols-1 lg:grid-cols-2 gap-10">
            <div class="bg-slate-900 p-12 rounded-[56px] text-white shadow-2xl relative overflow-hidden">
                <p class="text-slate-500 text-[10px] font-black uppercase tracking-widest mb-6">Consumo Anual Estimado</p>
                <h2 id="sales-display" class="text-7xl font-black mb-12 tracking-tighter leading-none">750.000 €</h2>
                <input type="range" id="sales-slider" min="100000" max="2500000" step="50000" value="750000" oninput="updateSimulator(this.value)" class="mb-16">
                
                <div class="grid grid-cols-2 gap-8 pt-10 border-t border-slate-800">
                    <div>
                        <p class="text-slate-500 text-[10px] font-black uppercase mb-2 tracking-widest">Abono Rappel</p>
                        <p id="rappel-cash" class="text-4xl font-black text-emerald-400 tracking-tighter">18.750 €</p>
                    </div>
                    <div class="text-right">
                        <p class="text-slate-500 text-[10px] font-black uppercase mb-2 tracking-widest">Porcentaje</p>
                        <p id="rappel-percent" class="text-4xl font-black text-blue-500 tracking-tighter">2.5%</p>
                    </div>
                </div>
            </div>

            <div class="space-y-6">
                <div class="bg-white p-10 rounded-[48px] border border-slate-100 shadow-sm">
                    <div class="flex gap-6 items-start">
                        <div class="p-4 bg-blue-50 text-blue-600 rounded-2xl"><i data-lucide="info"></i></div>
                        <div>
                            <h4 class="font-black text-sm uppercase text-slate-800 tracking-tight">Bonus Biotech Iberia</h4>
                            <p class="text-xs text-slate-400 mt-2 font-medium leading-relaxed italic">
                                "Rappel adicional por cuenta (centro) de hasta el 5,50% si supera los 150.000 € anuales."
                            </p>
                        </div>
                    </div>
                </div>
                <div class="bg-blue-600 p-10 rounded-[48px] text-white shadow-xl shadow-blue-100">
                    <div class="flex gap-6 items-start">
                        <div class="p-4 bg-white/10 rounded-2xl"><i data-lucide="truck"></i></div>
                        <div>
                            <h4 class="font-black text-sm uppercase tracking-widest">Logística Premium</h4>
                            <p class="text-xs text-blue-100 mt-2 font-bold uppercase tracking-tighter">Suministro garantizado en 24h para toda la red.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DATOS
        const products = [
            { name: 'EYECRYL PHAKIC BAJA POTENCIA', price: 500, desc: 'Fáquica Esférica' },
            { name: 'EYECRYL PHAKIC ALTA POTENCIA', price: 770, desc: 'Fáquica Alta Miopía' },
            { name: 'OPTIFLEX TRIO 3FLA6', price: 395, desc: 'Lente Trifocal' },
            { name: 'EYECRYL SERT EDOF', price: 250.75, desc: 'EDOF Precargada' },
            { name: 'BIO-HYALUR 1% 1ML', price: 12.00, desc: 'Viscoelástico' },
            { name: 'BIO-HYALUR DUO', price: 22.95, desc: 'Viscoelástico Pro' },
            { name: 'BIOBLUE 90 PLUS', price: 39.00, desc: 'Colorante Vitreoretinal' }
        ];

        const rappelScale = [
            { limit: 250000, rate: 0.015 }, { limit: 500000, rate: 0.020 },
            { limit: 750000, rate: 0.025 }, { limit: 1000000, rate: 0.030 },
            { limit: 1250000, rate: 0.035 }, { limit: 1500000, rate: 0.040 },
            { limit: 1750000, rate: 0.045 }, { limit: 2000000, rate: 0.050 }
        ];

        // INICIALIZAR LIBRERÍAS
        window.onload = function() {
            lucide.createIcons();
            initChart();
            renderProducts();
        };

        // GESTIÓN DE PESTAÑAS
        function showTab(id) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => {
                b.classList.remove('active', 'text-white');
                b.classList.add('text-slate-400');
            });
            
            document.getElementById(id).classList.add('active');
            const activeBtn = document.getElementById('btn-' + id);
            activeBtn.classList.add('active');
            activeBtn.classList.remove('text-slate-400');
        }

        // GRÁFICOS
        function initChart() {
            const ctx = document.getElementById('chartObjectives').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Pseudofáquicas', 'Fáquicas', 'Viscoelásticos'],
                    datasets: [
                        { label: 'Total Grupo', data: [26500, 2200, 38000], backgroundColor: '#f1f5f9', borderRadius: 10 },
                        { label: 'Objetivo Biotech', data: [2500, 150, 3500], backgroundColor: '#2563eb', borderRadius: 10 }
                    ]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { display: false },
                        y: { grid: { display: false }, border: { display: false }, ticks: { font: { weight: 'bold', family: 'Inter' } } }
                    }
                }
            });
        }

        // PRODUCTOS
        function renderProducts() {
            const list = document.getElementById('product-list');
            list.innerHTML = products.map(p => `
                <tr class="hover:bg-slate-50 transition-colors">
                    <td class="p-6">
                        <div class="font-black text-slate-800 text-sm uppercase">${p.name}</div>
                        <div class="text-[10px] text-slate-400 font-bold uppercase">${p.desc}</div>
                    </td>
                    <td class="p-6 text-right font-black text-blue-700 text-xl">${p.price.toFixed(2)} €</td>
                </tr>
            `).join('');
        }

        // SIMULADOR
        function updateSimulator(val) {
            const value = parseInt(val);
            document.getElementById('sales-display').innerText = value.toLocaleString() + ' €';
            
            let rate = 0;
            for (let i = rappelScale.length - 1; i >= 0; i--) {
                if (value >= rappelScale[i].limit) {
                    rate = rappelScale[i].rate;
                    break;
                }
            }
            
            document.getElementById('rappel-percent').innerText = (rate * 100).toFixed(1) + '%';
            document.getElementById('rappel-cash').innerText = (value * rate).toLocaleString() + ' €';
        }
    </script>
</body>
</html>
